<!doctype html>
<html lang="it">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ðŸŽ¬ BPFAM â€” Video Ufficiali ðŸ’Ž</title>
<style>
  body{background:#000;color:#00c8ff;font-family:Poppins,system-ui,sans-serif;text-align:center;margin:0;padding:40px 10px}
  h1{color:#00c8ff;text-shadow:0 0 15px #00c8ff;margin:0 0 8px}
  .gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:28px;max-width:1100px;margin:40px auto}
  .card{background:#0a0a0a;border:2px solid #00c8ff;border-radius:14px;padding:14px;box-shadow:0 0 22px #00c8ff44;transition:.25s}
  .card:hover{box-shadow:0 0 28px #00c8ffaa;transform:scale(1.01)}
  video{width:100%;border-radius:10px}
  .title{margin-top:8px;color:#8fe7ff;font-weight:600}
  .foot{margin:36px 0 10px;color:#789;font-size:.9rem}
</style>
</head>
<body>
  <h1>ðŸŽ¬ BPFAM â€” Video Ufficiali ðŸ’Ž</h1>

  <div id="grid" class="gallery">Caricamentoâ€¦</div>

  <div class="foot">Â© 2025 â€” BPFAM Official Network ðŸ’Ž</div>

<script>
(async () => {
  const repo = "bpfam/Video-bpfam";   // <â€” tuo repo
  const folder = "video";             // cartella con i video
  const api = `https://api.github.com/repos/${repo}/contents/${folder}`;
  const grid = document.getElementById('grid');

  try {
    const res = await fetch(api);
    if (!res.ok) throw new Error('API error');
    const items = await res.json();

    const videos = items.filter(i => i.type === "file" && /\.mp4$/i.test(i.name));

    if (!videos.length) {
      grid.textContent = "Nessun video caricato nella cartella /video.";
      return;
    }

    grid.innerHTML = "";
    for (const v of videos) {
      const url = `https://bpfam.github.io/Video-bpfam/${folder}/${encodeURIComponent(v.name)}`;
      const nice = v.name
        .replace(/\.[^/.]+$/,"")
        .replace(/[_-]+/g," ")
        .replace(/\b\w/g, c => c.toUpperCase());

      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
        <video controls preload="metadata">
          <source src="${url}" type="video/mp4">
        </video>
        <div class="title">ðŸŽ¥ ${nice}</div>
      `;
      grid.appendChild(card);
    }
  } catch (e) {
    grid.textContent = "Errore nel caricamento. Riprova fra poco.";
  }
})();
</script>
</body>
</html>